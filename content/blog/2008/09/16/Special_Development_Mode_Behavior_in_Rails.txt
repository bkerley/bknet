--- 
slug: Special_Development_Mode_Behavior_in_Rails
updated_at: 2008-09-16 15:22:28 -04:00
title: Special Development Mode Behavior in Rails
tags: rails programming
id: 181
excerpt: 
filter: 
- markdown
blog_post: true
layout: post
created_at: 2008-09-16 15:19:06 -04:00
--- 
<pre class="textmate-source sunburst"><span class="source source_ruby source_ruby_rails"><span class="meta meta_rails meta_rails_controller">  <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">create</span></span>
    <span class="keyword keyword_control keyword_control_ruby">if</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">RAILS_ENV</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>development<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span>
      session<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>url</span><span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> params<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>url</span><span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span>
      <span class="support support_function support_function_actionpack support_function_actionpack_rails">redirect_to</span> homepage_path
      <span class="keyword keyword_control keyword_control_pseudo-method keyword_control_pseudo-method_ruby">return</span>
    <span class="keyword keyword_control keyword_control_ruby">end</span>
    store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">OpenID</span><span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">::</span><span class="support support_class support_class_ruby">Store</span><span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">::</span><span class="support support_class support_class_ruby">Filesystem</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">RAILS_ROOT</span> <span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">+</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>/tmp<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
    consumer <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">OpenID</span><span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">::</span><span class="support support_class support_class_ruby">Consumer</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>session<span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> store<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
    oid_req <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> consumer<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>begin params<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>url</span><span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span>
    realm <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> request<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>protocol <span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">+</span> request<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>host_with_port
    return_to <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> session_url
    <span class="support support_function support_function_actionpack support_function_actionpack_rails">redirect_to</span> oid_req<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>redirect_url<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>realm<span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> return_to<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span></span></span></pre>
